spring:
  application:
    name: hss-backend-local
  
  # Local PostgreSQL Configuration (Docker Compose)
  datasource:
    url: jdbc:postgresql://localhost:5432/hss_dev
    username: hss-dev-user
    password: DevPassword123!
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 20000
      idle-timeout: 300000
      max-lifetime: 1200000
  
  # JPA Configuration for Local
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        jdbc:
          time_zone: UTC
    open-in-view: false
  
  # Flyway Configuration for Local
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true
  
  # Disable Cloud SQL for local development
  cloud:
    gcp:
      sql:
        enabled: false
      storage:
        bucket-name: hss-storage-bucket-local
  
  # Mail Configuration for Local (can use MailHog or similar)
  mail:
    host: localhost
    port: 1025
    username: 
    password: 
    properties:
      mail:
        smtp:
          auth: false
          starttls:
            enable: false
    from: noreply@hss.local
    enabled: false  # Disable mail sending in local
  
  # Security Configuration for Local
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8080/test-issuer

# Firebase Configuration for Local (disabled)
firebase:
  project-id: hss-local
  service-account-key: /local-key.json

# Server Configuration
server:
  port: 8090
  servlet:
    context-path: /

# Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      prometheus:
        enabled: true

# Logging Configuration for Local
logging:
  level:
    com.hss.hss_backend: DEBUG
    org.springframework.security: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# Local Development Settings
local:
  seed-data: true  # Enable test data seeding

